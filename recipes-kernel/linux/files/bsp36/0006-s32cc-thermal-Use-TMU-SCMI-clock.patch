From 3099a0017dc639b1ae218aef2292f93b25192a32 Mon Sep 17 00:00:00 2001
From: Ciprian Costea <ciprianmarian.costea@nxp.com>
Date: Tue, 17 Jan 2023 11:04:21 +0200
Subject: [PATCH 06/25] s32cc: thermal: Use TMU SCMI clock

Issue: ALB-9659
Upstream-Status: Pending 

Signed-off-by: Ciprian Costea <ciprianmarian.costea@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 arch/arm64/boot/dts/freescale/s32cc.dtsi | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/arch/arm64/boot/dts/freescale/s32cc.dtsi b/arch/arm64/boot/dts/freescale/s32cc.dtsi
index 7a1d4335ada4..dd2288c9693d 100644
--- a/arch/arm64/boot/dts/freescale/s32cc.dtsi
+++ b/arch/arm64/boot/dts/freescale/s32cc.dtsi
@@ -3,7 +3,7 @@
  * NXP S32CC SoC family
  *
  * Copyright (c) 2021 SUSE LLC
- * Copyright 2017-2022 NXP
+ * Copyright 2017-2023 NXP
  */
 
 #include <dt-bindings/interrupt-controller/arm-gic.h>
@@ -277,6 +277,9 @@ tmu: tmu@400a8000 {
 			compatible = "nxp,s32cc-tmu";
 			reg = <0x0 0x400a8000 0x0 0x3000>,
 				<0x0 0x400a4200 0x0 0x1fc>;
+			clocks = <&clks S32CC_SCMI_CLK_TMU_MODULE
+				&clks S32CC_SCMI_CLK_TMU_REG>;
+			clock-names = "tmu_module", "tmu_reg";
 			status = "okay";
 		};
 
-- 
2.25.1

