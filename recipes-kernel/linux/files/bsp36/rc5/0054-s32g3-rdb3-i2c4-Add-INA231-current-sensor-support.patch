From 8e6aaad3aa9c8af0d40f041cb250b77812985510 Mon Sep 17 00:00:00 2001
From: Ciprian Costea <ciprianmarian.costea@nxp.com>
Date: Mon, 20 Feb 2023 16:07:31 +0200
Subject: [PATCH 54/63] s32g3: rdb3: i2c4: Add 'INA231' current sensor support

Issue: ALB-9813
Upstream-Status: Pending 

Signed-off-by: Ciprian Costea <ciprianmarian.costea@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 arch/arm64/boot/dts/freescale/s32g399a-rdb3.dtsi | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/arch/arm64/boot/dts/freescale/s32g399a-rdb3.dtsi b/arch/arm64/boot/dts/freescale/s32g399a-rdb3.dtsi
index 1743463c1276..346ed9ea399f 100644
--- a/arch/arm64/boot/dts/freescale/s32g399a-rdb3.dtsi
+++ b/arch/arm64/boot/dts/freescale/s32g399a-rdb3.dtsi
@@ -2,7 +2,7 @@
 /*
  * Device Tree file for S32G399ARDB3 Board Rev E.
  *
- * Copyright 2022 NXP
+ * Copyright 2022-2023 NXP
  */
 
 /dts-v1/;
@@ -23,6 +23,14 @@ gmac_mdio_a_phy8: ethernet-phy@3 {
 	};
 };
 
+&i2c4 {
+	ina231@40 {
+		compatible = "ti,ina231";
+		reg = <0x40>;
+		shunt-resistor = <1000>;
+	};
+};
+
 &pfe_netif1 {
 	phy-mode = "sgmii";
 	phy-handle = <&gmac_mdio_a_phy8>;
-- 
2.25.1

