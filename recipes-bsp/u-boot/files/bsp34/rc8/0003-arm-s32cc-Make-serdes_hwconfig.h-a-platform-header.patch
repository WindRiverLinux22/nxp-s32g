From 1408ac57357d0fc4765cd795e5a88039e2685697 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Wed, 29 Jun 2022 08:44:42 +0300
Subject: [PATCH 003/102] arm: s32cc: Make serdes_hwconfig.h a platform header

Issue: ALB-8357
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 arch/arm/include/asm/arch-s32/s32-cc/serdes_regs.h          | 6 +++---
 .../arch-s32 => mach-s32/include}/s32-cc/serdes_hwconfig.h  | 0
 arch/arm/mach-s32/s32-cc/fdt.c                              | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)
 rename arch/arm/{include/asm/arch-s32 => mach-s32/include}/s32-cc/serdes_hwconfig.h (100%)

diff --git a/arch/arm/include/asm/arch-s32/s32-cc/serdes_regs.h b/arch/arm/include/asm/arch-s32/s32-cc/serdes_regs.h
index 98f1c4f03a..15ffd270ff 100644
--- a/arch/arm/include/asm/arch-s32/s32-cc/serdes_regs.h
+++ b/arch/arm/include/asm/arch-s32/s32-cc/serdes_regs.h
@@ -8,9 +8,9 @@
 #ifndef SERDES_REGS_H
 #define SERDES_REGS_H
 
-#include <asm/arch-s32/s32-cc/serdes_hwconfig.h>
-#include "linux/errno.h"
-#include "linux/types.h"
+#include <linux/errno.h>
+#include <linux/types.h>
+#include <s32-cc/serdes_hwconfig.h>
 
 /* use a mask to fix DEVICE_TYPE for EP */
 #define SERDES_MODE(mode) (mode & 0xe)
diff --git a/arch/arm/include/asm/arch-s32/s32-cc/serdes_hwconfig.h b/arch/arm/mach-s32/include/s32-cc/serdes_hwconfig.h
similarity index 100%
rename from arch/arm/include/asm/arch-s32/s32-cc/serdes_hwconfig.h
rename to arch/arm/mach-s32/include/s32-cc/serdes_hwconfig.h
diff --git a/arch/arm/mach-s32/s32-cc/fdt.c b/arch/arm/mach-s32/s32-cc/fdt.c
index f7b5eeee97..1d9b29bb10 100644
--- a/arch/arm/mach-s32/s32-cc/fdt.c
+++ b/arch/arm/mach-s32/s32-cc/fdt.c
@@ -10,7 +10,6 @@
 #include <hwconfig.h>
 #include <malloc.h>
 #include <misc.h>
-#include <asm/arch-s32/s32-cc/serdes_hwconfig.h>
 #include <dm/uclass.h>
 #include <linux/ctype.h>
 #include <linux/ioport.h>
@@ -18,6 +17,7 @@
 #include <s32-cc/a53_gpr.h>
 #include <s32-cc/fdt_wrapper.h>
 #include <s32-cc/nvmem.h>
+#include <s32-cc/serdes_hwconfig.h>
 #include <dt-bindings/nvmem/s32cc-siul2-nvmem.h>
 #include <dt-bindings/phy/phy.h>
 
-- 
2.17.1

