From 72366af2d5636df649516148fee42a07a718eade Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Wed, 13 Jul 2022 17:22:47 +0300
Subject: [PATCH 028/102] pci: Remove the list of SerDes instances

This list isn't used.

Issue: ALB-8357
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 drivers/pci/serdes_s32gen1.c | 4 ----
 drivers/pci/serdes_s32gen1.h | 1 -
 2 files changed, 5 deletions(-)

diff --git a/drivers/pci/serdes_s32gen1.c b/drivers/pci/serdes_s32gen1.c
index e873e5a3b8..cb2918e9de 100644
--- a/drivers/pci/serdes_s32gen1.c
+++ b/drivers/pci/serdes_s32gen1.c
@@ -32,8 +32,6 @@
 #define SERDES_CLK_FMHZ(clk_type) \
 			((clk_type == CLK_100MHZ) ? "100Mhz" : "125Mhz")
 
-static LIST_HEAD(s32_serdes_list);
-
 int wait_read32(void __iomem *address, u32 expected,
 		u32 mask, int read_attempts)
 {
@@ -441,8 +439,6 @@ static int s32_serdes_probe(struct udevice *dev)
 
 	pcie->bus = dev;
 
-	list_add(&pcie->list, &s32_serdes_list);
-
 	ret = s32_serdes_get_config_from_device_tree(pcie);
 	if (ret)
 		return ret;
diff --git a/drivers/pci/serdes_s32gen1.h b/drivers/pci/serdes_s32gen1.h
index ffa7ab9b5d..2d52180b0c 100644
--- a/drivers/pci/serdes_s32gen1.h
+++ b/drivers/pci/serdes_s32gen1.h
@@ -46,7 +46,6 @@ enum serdes_link_width {
 };
 
 struct s32_serdes {
-	struct list_head list;
 	struct udevice *bus;
 	void __iomem *dbi;
 	struct reset_ctl *pcie_rst, *serdes_rst;
-- 
2.17.1

