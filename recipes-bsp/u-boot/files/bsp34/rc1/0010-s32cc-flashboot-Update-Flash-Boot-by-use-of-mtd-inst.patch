From 172413d1e4dedf85e53f4853f1dcda463b156795 Mon Sep 17 00:00:00 2001
From: Ciprian Costea <ciprianmarian.costea@nxp.com>
Date: Thu, 30 Jun 2022 13:51:00 +0300
Subject: [PATCH 10/33] s32cc: flashboot: Update Flash Boot by use of 'mtd'
 instead of 'sf'

Issue: ALB-9014
Upstream-Status: Pending 

Signed-off-by: Ciprian Costea <ciprianmarian.costea@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 include/configs/s32-cc.h | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

diff --git a/include/configs/s32-cc.h b/include/configs/s32-cc.h
index 7270cc376a..1dc2f598a0 100644
--- a/include/configs/s32-cc.h
+++ b/include/configs/s32-cc.h
@@ -177,11 +177,9 @@
 	"fdt_override=;\0" \
 	"flashboot=echo Booting from flash...; " \
 		"run flashbootargs;"\
-		"sf probe 6:0;"\
-		"sf read ${loadaddr} ${kernel_flashaddr} ${kernel_maxsize};"\
-		"sf read ${fdt_addr} ${fdt_flashaddr} ${fdt_maxsize};"\
-		"sf read ${ramdisk_addr} ${ramdisk_flashaddr} "\
-		" ${ramdisk_maxsize};" \
+		"mtd read Kernel ${loadaddr};"\
+		"mtd read DTB ${fdt_addr};"\
+		"mtd read Rootfs ${ramdisk_addr};"\
 		"${boot_mtd} ${loadaddr} ${ramdisk_addr} ${fdt_addr};\0" \
 	"flashbootargs=setenv bootargs console=${console},${baudrate}" \
 		" root=/dev/ram rw earlycon " EXTRA_BOOT_ARGS ";"\
-- 
2.17.1

