From 402ddec335ec9a041f1acd43f22d57eec8ed3c4a Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Mon, 27 Jun 2022 15:17:40 +0300
Subject: [PATCH 5/6] s32cc: Remove address from ATF reserved region

Issue: ALB-9010
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 plat/nxp/s32/s32_bl2_el3.c | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

diff --git a/plat/nxp/s32/s32_bl2_el3.c b/plat/nxp/s32/s32_bl2_el3.c
index 8b20ba9f6..d14339f3c 100644
--- a/plat/nxp/s32/s32_bl2_el3.c
+++ b/plat/nxp/s32/s32_bl2_el3.c
@@ -436,11 +436,8 @@ static int ft_fixup_exclude_ecc(void *blob)
 static int ft_fixup_resmem_node(void *blob)
 {
 	int ret;
-	char nodename[21];
 
-	snprintf(nodename, sizeof(nodename), "atf@%x", BL31_BASE);
-
-	ret = fdt_add_reserved_memory(blob, nodename, BL31_BASE, BL31_SIZE);
+	ret = fdt_add_reserved_memory(blob, "atf", BL31_BASE, BL31_SIZE);
 	if (ret) {
 		ERROR("Failed to add 'atf' /reserved-memory node");
 		return ret;
-- 
2.17.1

