From 1300336ab0d030497acb34c154347f8b9ca09cee Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Thu, 21 Jul 2022 08:21:44 +0300
Subject: [PATCH 23/42] fdts: s32cc: serdes: Use the same clock bindings as in
 Linux

Issue: ALB-8357
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 fdts/s32cc.dtsi | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

diff --git a/fdts/s32cc.dtsi b/fdts/s32cc.dtsi
index f073da0d2..50b74d720 100644
--- a/fdts/s32cc.dtsi
+++ b/fdts/s32cc.dtsi
@@ -881,13 +881,17 @@
 		serdes0: serdes@40480000 {
 			#phy-cells = <3>;
 			compatible = "nxp,s32cc-serdes";
+			clocks = <&clks S32GEN1_SCMI_CLK_SERDES_AXI>,
+				 <&clks S32GEN1_SCMI_CLK_SERDES_AUX>,
+				 <&clks S32GEN1_SCMI_CLK_SERDES_APB>,
+				 <&clks S32GEN1_SCMI_CLK_SERDES_REF>;
+			clock-names = "axi", "aux", "apb", "ref";
 			#address-cells = <3>;
 			#size-cells = <2>;
 			num-lanes = <2>; /* supports max 2 lanes */
 			resets = <&reset S32GEN1_SCMI_RST_SERDES0>,
 				 <&reset S32GEN1_SCMI_RST_PCIE0>;
 			reset-names = "serdes", "pcie";
-			clocks = <&clks S32GEN1_SCMI_CLK_SERDES_REF>;
 			reg = <0x0 0x40480000 0x0 0x108>,
 			      <0x0 0x40483008 0x0 0x10>,
 			      <0x0 0x40482000 0x0 0x800>,
@@ -930,13 +934,17 @@
 		serdes1: serdes@44180000 {
 			#phy-cells = <3>;
 			compatible = "nxp,s32cc-serdes";
+			clocks = <&clks S32GEN1_SCMI_CLK_SERDES_AXI>,
+				 <&clks S32GEN1_SCMI_CLK_SERDES_AUX>,
+				 <&clks S32GEN1_SCMI_CLK_SERDES_APB>,
+				 <&clks S32GEN1_SCMI_CLK_SERDES_REF>;
+			clock-names = "axi", "aux", "apb", "ref";
 			#address-cells = <3>;
 			#size-cells = <2>;
 			num-lanes = <1>; /* supports 1 lane */
 			resets = <&reset S32GEN1_SCMI_RST_SERDES1>,
 				 <&reset S32GEN1_SCMI_RST_PCIE1>;
 			reset-names = "serdes", "pcie";
-			clocks = <&clks S32GEN1_SCMI_CLK_SERDES_REF>;
 			reg = <0x0 0x44180000 0x0 0x108>,
 			      <0x0 0x44183008 0x0 0x10>,
 			      <0x0 0x44182000 0x0 0x800>,
-- 
2.17.1

